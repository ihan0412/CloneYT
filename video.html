<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Video Detail</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'
   viewBox='0 0 28 20'><path d='M27.4433 3.12038C27.129 1.89551 26.1331 0.90449 24.902 0.590184C22.716
   0 14 0 14 0C14 0 5.284 0 3.09801 0.590184C1.86687 0.90449 0.871033 1.89551 0.556684 3.12038C0 5.3402
    0 10 0 10C0 10 0 14.6598 0.556684 16.8796C0.871033 18.1045 1.86687 19.0955 3.09801 19.4098C5.284 20 14
    20 14 20C14 20 22.716 20 24.902 19.4098C26.1331 19.0955 27.129 18.1045 27.4433 16.8796C28 14.6598 28 10
    28 10C28 10 28 5.3402 27.4433 3.12038Z' fill='%23FF0000'/><path d='M11.1999 14.2857L18.3999 10L11.1999
    5.71429V14.2857Z' fill='white'/></svg>">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!--아이콘 link-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="css/videoNavbar.css"/>
    <link rel="stylesheet" href="css/videolist.css"/>
    <link rel="stylesheet" href="css/video.css"/>
</head>
<body>
<div class="ytbar"></div>

<div class="main-content">
    <div class="container-fluid video-player-wrapper">
        <div class="row">
            <!--동영상 화면-->
            <div class="col-12 col-lg-8">

                <div class="ratio ratio-16x9 mb-3">
                    <iframe id="embedVideo" src="embedVideo" title="YouTube video player"
                            referrerpolicy="strict-origin-when-cross-origin"
                            allowfullscreen
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"></iframe>
                </div>

                <h5 class="mb-3" style="font-weight: bold;" id="videoTitle"></h5>
                <div class="d-flex align-items-center justify-content-between">

                    <div class="d-flex align-items-center mb-2">
                        <img class="channel-profile-img me-3" src="" alt="User Profile" id="channelProfilePic">
                        <div class="me-3">
                            <p class="channel-name mb-0" style="font-weight: bold;" id="channelName"></p>
                            <p class="sub-count mb-0" id="subCount"></p></div>
                        <button class="subscribe-btn">구독</button>
                    </div>

                    <div class="d-flex action-buttons justify-content-end gap-2 mb-2 mb-sm-0">
                        <div class="btn-group like-dislike-group">
                            <button type="button" class="btn" id="like-btn"><i class="bi bi-hand-thumbs-up"></i><span
                                    id="likeCount"></span></button>
                            <button type="button" class="btn" id="dislike-btn"><i class="bi bi-hand-thumbs-down"></i>
                            </button>
                        </div>
                        <!--d-none(display-none)으로 반응형 버튼 구현-->
                        <div class="d-none d-md-flex gap-2">
                            <button type="button" class="btn"><i class="bi bi-share-fill"></i> 공유</button>
                            <button type="button" class="btn"><i class="bi bi-box-arrow-in-down"></i> 저장</button>
                        </div>

                        <div class="dropdown">
                            <button class="btn dropdown-toggle" type="button" id="moreActionsDropdown"
                                    data-bs-toggle="dropdown" aria-expanded="false">
                                <i class="bi bi-three-dots"></i>
                            </button>
                            <ul class="dropdown-menu dropdown-menu-dark dropdown-menu-end"
                                aria-labelledby="moreActionsDropdown">
                                <li class="d-md-none"><a class="dropdown-item" href="#"><i
                                        class="bi bi-share-fill me-2"></i> 공유</a></li>
                                <li class="d-md-none"><a class="dropdown-item" href="#"><i
                                        class="bi bi-box-arrow-in-down me-2"></i> 저장</a></li>
                                <li class="d-md-none">
                                    <hr class="dropdown-divider">
                                </li>
                                <li><a class="dropdown-item" href="#"><i class="bi bi-flag me-2"></i> 신고</a></li>
                                <li><a class="dropdown-item" href="#"><i class="bi bi-download me-2"></i> 오프라인 저장</a>
                                </li>
                                <li><a class="dropdown-item" href="#"><i class="bi bi-person-plus me-2"></i> 채널 공유</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="video-details-info">
                    <div class="d-flex align-items-center mb-2">
                        <span class="fw-bold" id="viewCount"></span> <span class="ms-2 me-2">•</span>
                        <span id="uploadDate"></span></div>
                    <pre class="description-text mb-0" id="videoDescription"></pre>
                    <button class="show-more-btn mt-2" id="toggleDescription">...더보기</button>
                </div>
                <!--댓글-->
                <div class="comments-section text-white p-3 rounded mt-4">
                    <h4 class="mb-4">댓글 <span id="commentCount">0</span>개</h4>

                    <div class="d-flex align-items-start mb-4"> <!--여기서 사용자 img 추출-->
                        <img src="img/doguser.png" class="channel-profile-img me-3" alt="내 프로필">
                        <div class="flex-grow-1">
                            <div class="form-floating comment-input-container mb-2">
                                <textarea class="form-control" placeholder="댓글 추가..." id="commentInput"></textarea>

                            </div>
                            <div class="d-flex justify-content-end gap-2 comment-button">
                                <button type="button" class="btn btn-sm" id="cancelCommentBtn">취소</button>
                                <button type="button" class="btn btn-sm" id="postCommentBtn" disabled>댓글</button>
                            </div>
                        </div>
                    </div>
                    <!-- 댓글 추가 부분 -->
                    <div id="commentsList"></div>
                </div>
            </div>
            <!--추천 동영상-->
            <div class="col-12 col-lg-4">
                <div class="related-content bg-dark text-white p-3 rounded mt-4 mt-lg-0">
                    <h4 class="mb-3">추천 동영상</h4>
                    <!-- 반응형 영상 리스트 구조 변경 -->
                    <div class="row video-list-vertical d-lg-none"></div>
                    <div class="row video-list-horizontal d-none d-lg-flex"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"
        integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V"
        crossorigin="anonymous"></script>
<script src="js/sidebar.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script type="module" src="js/video.js"> // type="module" 추가하여 import/export 사용 가능하게 함 </script>
<script type="module" src="js/videoData.js"></script>
<script type="module" src="js/renderVerticalCards.js"></script>
<script type="module" src="js/renderHorizontalCards.js"></script>
</body>
</html>
